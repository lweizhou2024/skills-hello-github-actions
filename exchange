% Create some sample data
x = 0:0.1:10;
y = sin(x);

% Create a figure and axes
fig = figure;
ax = axes('Parent', fig, 'Position', [0.1 0.2 0.8 0.7]); % Adjust position as needed
plot(ax, x, y);
title('Plot with X-Axis Slider');

% Set initial x-axis limits
xmin_initial = min(x);
xmax_initial = max(x);
xlim(ax, [xmin_initial xmax_initial]);

% Create the slider
slider_min = min(x);
slider_max = max(x);
slider_step = (slider_max - slider_min) / 100; % Adjust step size as needed
slider_initial_min = xmin_initial;

% Define the position of the slider [left bottom width height]
slider_position = [0.1 0.05 0.8 0.05];

sld = uicontrol('Parent', fig, ...
    'Style', 'slider', ...
    'Units', 'normalized', ...
    'Position', slider_position, ...
    'min', slider_min, ...
    'max', slider_max - (xmax_initial - xmin_initial), ... % Adjust max for the window size
    'Value', slider_initial_min, ...
    'SliderStep', [slider_step slider_step * 5], ... % Small and large slider steps
    'Callback', @(es, ed) updateXlim(ax, es.Value, xmax_initial - xmin_initial));

% Callback function to update the x-axis limits
function updateXlim(ax, new_xmin, window_size)
    new_xmax = new_xmin + window_size;
    xlim(ax, [new_xmin new_xmax]);
end
