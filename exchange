% Input/output filenames
inFile = 'input.avi';
outFile = 'output_first15s.avi';

% Open video for reading
v = VideoReader(inFile);

% Open video for writing
out = VideoWriter(outFile, 'Uncompressed AVI'); % or 'Motion JPEG AVI'
out.FrameRate = v.FrameRate;
open(out);

% Duration you want to keep (first 15 seconds)
keepDuration = 15;

% Read and write frames until 15 s
while hasFrame(v) && v.CurrentTime <= keepDuration
    frame = readFrame(v);
    writeVideo(out, frame);
end

% Close output file
close(out);

disp('Done! Saved first 15 seconds.');
